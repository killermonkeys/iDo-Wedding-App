
<% guest = @guest || @session_guest %>
<%= form.error_messages %>
<div class="">
  <div class="row">
    <div class="col col_1_2">
      <%= field_set_tag 'Guest' do %>
        <div class="row">
          <%= form.label :salutation %>
        	<%= form.select :salutation, options_from_collection_for_select(Guest::SALUTATIONS, :to_s, :to_s, form.object.salutation), :include_blank => true %>
        </div>
        <%  if @admin_user %>
          <div class="row"> 
          	<%= form.label :first_name %>
        		<%= form.text_field :first_name %>
            <%= form.label :last_name %>
            <%= form.text_field :last_name %>
          </div>
        <%  else %>
          <div class="row"> 
            <%= form.label :name %>
            <%= form.text_field :name %>
          </div>
        <%  end %>

        <div class="row"> 
          <%= form.label :suffix %>
      	  <%= form.text_field :suffix, :length => 4, :style => 'width:40px;' %>
        </div>
        <div class="row"> 
        	<%= form.label :email %>
        	<%= form.text_field :email %>
        </div>
      <%  end %>
    </div>
    
    <% if guest.has_second_guest || @admin_user %>
      <div class="col col_1_2">
        <%= field_set_tag 'Second Guest' do %>
          <% if @admin_user %>
            <%= form.label :has_second_guest %>
            <%= form.check_box :has_second_guest, class: 'custom-checkbox' %>
          <% end %>
          <div class="row">
            <%= form.label :g2_salutation, 'Salutation' %>
            <%= form.select :g2_salutation, options_from_collection_for_select(Guest::SALUTATIONS, :to_s, :to_s, form.object.salutation), :include_blank => true %>
          </div>
          <div class="row"> 
            <%= form.label :g2_first_name , 'First Name' %>
            <%= form.text_field :g2_first_name %>
            <%= form.label :g2_last_name, 'Last Name' %>
            <%= form.text_field :g2_last_name %>
          </div>
          <div class="row"> 
            <%= form.label :g2_suffix, 'Suffix' %>
            <%= form.text_field :g2_suffix, :length => 4, :style => 'width:40px;' %>
          </div>
        <%  end %>
      </div>
    <% end %>
  </div>
</div>
<div class="clearfix"></div>
<div class="row">
  <%= field_set_tag 'Address' do %>
    <%= form.object.build_address if form.object.address.nil? %>
  	<%= form.fields_for :address do |address| %>
  		<%= render 'addresses/form', :address => address %>
  	<%  end %>
  <% end %>

  <!-- 
    <% if @admin_user %>
    	<%= field_set_tag 'Gift' do %>
    	  <%= form.object.build_gift if form.object.gift.nil? %>
    		<%= form.fields_for :gift do |gift| %>
    			<%= render 'gifts/form', :gift => gift %>
    		<% end %>
    	<% end %>
    <% end %>
  -->

  <%= field_set_tag 'Rsvp' do %>
    <!-- <%= form.object.build_rsvp if form.object.rsvp.nil? %> -->
  	<%= form.fields_for :rsvp do |rsvp| %>
  		<%= render 'rsvps/form', :rsvp => rsvp %>
  	<% end %>
  <% end %>
</div>
